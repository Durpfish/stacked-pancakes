<%- include('../head') %>
<link rel="stylesheet" href="/assets/css/question-edit.css" type="text/css" />

<div class="wrapper">
    <%- include('../navbar') %>

    <div id="main">
        <div class="inner">
            <h1>Edit Question</h1>

            <% if (typeof error !== 'undefined') { %>
                <div class="error-message">
                    <%= error %>
                </div>
            <% } %>

            <section class="edit-question">
                <form action="/questions/<%= question._id %>/update" method="POST">
                    <div class="row gtr-uniform">
                        <div class="col-12">
                            <label for="title">Title</label>
                            <input type="text" id="title" name="title" 
                                   value="<%= question.title %>"
                                   required>
                        </div>

                        <div class="col-12">
                            <label for="body">Body</label>
                            <textarea id="body" name="body" rows="15" 
                                    required><%= question.body %></textarea>
                        </div>

                        <div class="col-12">
                            <label for="tags">Tags</label>
                            <input type="text" id="tags" name="tags" 
                                   value="<%= Array.isArray(question.tags) ? question.tags.join(', ') : question.tags %>">
                            <small class="form-text">
                                Separate tags with commas. Maximum 5 tags.
                            </small>
                        </div>

                        <div class="col-12">
                            <button type="submit" class="primary">Save Changes</button>
                            <a href="/questions/<%= question._id %>" class="button">Cancel</a>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>

    <%- include('../footer') %>
</div>

<%- include('../scripts') %> 